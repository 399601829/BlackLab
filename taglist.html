<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2018-06-07 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180607" />
    <meta http-equiv="Content-Language" content="en" />
    <title>BlackLab &#x2013; Tag List report</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nunito:300" type="text/css"/>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                                                                                                <img src="images/logo-blacklab.png"  alt="BlackLab"/>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.inl.nl/" id="bannerRight">
                                                                                                <img src="images/logo-inl.png"  alt="INL"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.inl.nl/" class="externalLink" title="INL">
        INL</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="BlackLab">
        BlackLab</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Tag List report</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2018-06-07</li>
              <li id="projectVersion" class="pull-right">
                    Version: 1.7.0
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">BlackLab</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                                                                                                                                                                                                            
      <li>
  
                          <a href="learn.html" title="Learn">
          <span class="icon-chevron-down"></span>
        Learn</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="getting-started.html" title="Getting Started">
          <span class="none"></span>
        Getting Started</a>
            </li>
                    
      <li>
  
                          <a href="corpus-query-language.html" title="Corpus Query Language">
          <span class="none"></span>
        Corpus Query Language</a>
            </li>
                    
      <li>
  
                          <a href="blacklab-server-overview.html" title="BlackLab Server overview">
          <span class="none"></span>
        BlackLab Server overview</a>
            </li>
                    
      <li>
  
                          <a href="blacklab-server-different-languages.html" title="Using BlackLab Server from different languages">
          <span class="none"></span>
        Using BlackLab Server from different languages</a>
            </li>
                    
      <li>
  
                          <a href="indexing-with-blacklab.html" title="Indexing with BlackLab">
          <span class="none"></span>
        Indexing with BlackLab</a>
            </li>
                    
      <li>
  
                          <a href="add-input-format.html" title="Add An Input Format">
          <span class="none"></span>
        Add An Input Format</a>
            </li>
                    
      <li>
  
                          <a href="improve-search-speed.html" title="Improve Search Speed">
          <span class="none"></span>
        Improve Search Speed</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="API reference">
          <span class="none"></span>
        API reference</a>
            </li>
                    
      <li>
  
                          <a href="file-formats.html" title="File formats">
          <span class="none"></span>
        File formats</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="downloads.html" title="Downloads">
          <span class="none"></span>
        Downloads</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="changelog.html" title="Change Log">
          <span class="none"></span>
        Change Log</a>
            </li>
                
      <li>
  
                          <a href="roadmap.html" title="Road Map">
          <span class="none"></span>
        Road Map</a>
            </li>
                
      <li>
  
                          <a href="newsletter.html" title="Newsletter">
          <span class="none"></span>
        Newsletter</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-down"></span>
        Project Reports</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="surefire-report.html" title="Surefire Report">
          <span class="none"></span>
        Surefire Report</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="JavaDocs">
          <span class="none"></span>
        JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <span class="none"></span>
        Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="xref-test/index.html" title="Test Source Xref">
          <span class="none"></span>
        Test Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="findbugs.html" title="FindBugs">
          <span class="none"></span>
        FindBugs</a>
            </li>
                    
      <li>
  
                          <a href="cpd.html" title="CPD">
          <span class="none"></span>
        CPD</a>
            </li>
                    
      <li>
  
                          <a href="pmd.html" title="PMD">
          <span class="none"></span>
        PMD</a>
            </li>
                    
      <li>
  
                          <a href="checkstyle.html" title="Checkstyle">
          <span class="none"></span>
        Checkstyle</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Tag List</a>
          </li>
                    
      <li>
  
                          <a href="dependency-updates-report.html" title="Dependency Updates Report">
          <span class="none"></span>
        Dependency Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="plugin-updates-report.html" title="Plugin Updates Report">
          <span class="none"></span>
        Plugin Updates Report</a>
            </li>
              </ul>
        </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Tag_List_Report"></a>Tag List Report</h2>
<p>The following document contains the listing of user tags found in the code. Below is the summary of the occurrences per tag.</p>
<table border="0" class="table table-striped">
<tr class="a">
<th>Tag Class</th>
<th>Total number of occurrences</th>
<th>Tag strings used by tag class</th></tr>
<tr class="b">
<td><a href="#tag_class_1">Bug or serious issue</a></td>
<td>3</td>
<td>FIXME, hack</td></tr>
<tr class="a">
<td><a href="#tag_class_3">Possible optimization</a></td>
<td>4</td>
<td>OPT</td></tr>
<tr class="b">
<td><a href="#tag_class_2">Todo Work</a></td>
<td>26</td>
<td>todo, TO DO</td></tr></table>
<p>Each tag is detailed below:</p>
<div class="section">
<h3><a name="Bug_or_serious_issue"></a><a name="tag_class_1">Bug or serious issue</a></h3>
<p><b>Number of occurrences found in the code: 3</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.index.Indexer</th>
<th>Line</th></tr>
<tr class="b">
<td>progress reporting is broken in multithreaded indexing, as the listener is shared between threads So a docIndexer that didn't index anything can slip through if another thread did index some data in the meantime</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#91">91</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpanQueryFiltered</th>
<th>Line</th></tr>
<tr class="b">
<td>. This &quot;fixes&quot; the 'Query does not implement createWeight issue'</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpanQueryFiltered.html#143">143</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.testutil.ExportCorpus</th>
<th>Line</th></tr>
<tr class="b">
<td>a bug in an older content store implementation can cause this when exporting an older index. Report and continue.</td>
<td><a href="./xref/nl/inl/blacklab/testutil/ExportCorpus.html#92">92</a></td></tr></table></div>
<div class="section">
<h3><a name="Possible_optimization"></a><a name="tag_class_3">Possible optimization</a></h3>
<p><b>Number of occurrences found in the code: 4</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.externalstorage.ContentStoreDirUtf8</th>
<th>Line</th></tr>
<tr class="b">
<td>we could try memory-mapping the current content store file (not sure if you can grow a file in size while memory-mapped? maybe just put it at a fixed size?) for additional speed.</td>
<td><a href="./xref/nl/inl/blacklab/externalstorage/ContentStoreDirUtf8.html#483">483</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.HitsWindow</th>
<th>Line</th></tr>
<tr class="b">
<td>copy context as well..?</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsWindow.html#82">82</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.grouping.HitPropertyContextWords</th>
<th>Line</th></tr>
<tr class="b">
<td>provide specific compare() method that compares contexts in-place</td>
<td><a href="./xref/nl/inl/blacklab/search/grouping/HitPropertyContextWords.html#243">243</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpanQuerySequence</th>
<th>Line</th></tr>
<tr class="b">
<td>it might be even better to favour combining low-frequency terms first, as that minimizes useless skipping through non-matching docs.</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpanQuerySequence.html#573">573</a></td></tr></table></div>
<div class="section">
<h3><a name="Todo_Work"></a><a name="tag_class_2">Todo Work</a></h3>
<p><b>Number of occurrences found in the code: 26</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.index.Indexer</th>
<th>Line</th></tr>
<tr class="b">
<td>this is a workaround for a bug where indexStructure is always written, even when an indexing task was rollbacked on an empty index result of this is that the index can never be opened again (the forwardindex is missing files that the indexMetadata.yaml says must exist?) so record rollbacks and then don't write the updated indexStructure</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#236">236</a></td></tr>
<tr class="a">
<td>we should delete the newly created index here as it failed, how do we clean up files properly?</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#392">392</a></td></tr>
<tr class="b">
<td>this should call close() on running FileProcessors</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#528">528</a></td></tr>
<tr class="a">
<td>this is nearly a literal copy of index for a stream, unify them somehow (take care that file might be a directory)</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#697">697</a></td></tr>
<tr class="b">
<td>some of the class-based docIndexers don't support theaded indexing</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#864">864</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.DocIndexerTeiBase</th>
<th>Line</th></tr>
<tr class="b">
<td>remove INL-specific stuff</td>
<td><a href="./xref/nl/inl/blacklab/indexers/DocIndexerTeiBase.html#146">146</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.MetadataFetcherCgnImdi</th>
<th>Line</th></tr>
<tr class="b">
<td>make sure zip file is properly closed when done (change structure so metadata fetcher isn't instantiated for each document separately) metadataZipFile.close();</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherCgnImdi.html#83">83</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.MetadataFetcherCsv</th>
<th>Line</th></tr>
<tr class="b">
<td>use document id instead of document file name (it is unclear to me how to get the document id from the lucene doc)</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherCsv.html#66">66</a></td></tr>
<tr class="a">
<td>what happens if the csv file does not contain an id-column?</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherCsv.html#68">68</a></td></tr>
<tr class="b">
<td>some texts have multiple authors. How to deal with that?</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherCsv.html#69">69</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.MetadataFetcherKbDpo</th>
<th>Line</th></tr>
<tr class="b">
<td>improve structure to avoid test-specific code</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherKbDpo.html#317">317</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.MetadataFetcherSonarCmdi</th>
<th>Line</th></tr>
<tr class="b">
<td>make sure zip file is properly closed when done (change structure so metadata fetcher isn't instantiated for each document separately) metadataZipFile.close();</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherSonarCmdi.html#83">83</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.preprocess.ConvertPluginOpenConvert</th>
<th>Line</th></tr>
<tr class="b">
<td>(not supported in openconvert yet): pdf</td>
<td><a href="./xref/nl/inl/blacklab/indexers/preprocess/ConvertPluginOpenConvert.html#114">114</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.preprocess.DocIndexerConvertAndTag</th>
<th>Line</th></tr>
<tr class="b">
<td>Auto-generated method stub</td>
<td><a href="./xref/nl/inl/blacklab/indexers/preprocess/DocIndexerConvertAndTag.html#113">113</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.perdocument.DocGroups</th>
<th>Line</th></tr>
<tr class="b">
<td>inconsistency compared to hits within groups, hitgroups ignore sorting of the source data, docgroups don't</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocGroups.html#66">66</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.perdocument.DocPropertyComplexFieldLength</th>
<th>Line</th></tr>
<tr class="b">
<td>check IndexStructure.alwaysHasClosingToken() to see if we really should subtract 1</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocPropertyComplexFieldLength.html#47">47</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.perdocument.DocResults</th>
<th>Line</th></tr>
<tr class="b">
<td>a better approach is to only read documents we're actually interested in instead of all of them; compare with Hits. even better: make DocResults abstract and provide two implementations, DocResultsFromHits and DocResultsFromQuery.</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocResults.html#176">176</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.ConfigReader</th>
<th>Line</th></tr>
<tr class="b">
<td>remove, INT-specific</td>
<td><a href="./xref/nl/inl/blacklab/search/ConfigReader.html#318">318</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.HitsImpl</th>
<th>Line</th></tr>
<tr class="b">
<td>more efficient to get all contexts with one getContextWords() call!</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsImpl.html#1405">1405</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.SearcherImpl</th>
<th>Line</th></tr>
<tr class="b">
<td>we need to create the analyzer before opening the index, because we can't change the analyzer attached to the IndexWriter (and passing a different analyzer in addDocument() went away in Lucene 5.x). For now, if we're in index mode, we re-open the index with the analyzer we determined.</td>
<td><a href="./xref/nl/inl/blacklab/search/SearcherImpl.html#204">204</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.TermFrequencyList</th>
<th>Line</th></tr>
<tr class="b">
<td>maybe speed this up by keeping a map of tokens and frequencies?</td>
<td><a href="./xref/nl/inl/blacklab/search/TermFrequencyList.html#54">54</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.indexstructure.IndexStructure</th>
<th>Line</th></tr>
<tr class="b">
<td>refactor this so this information is stored with each property instead, deprecating this setting</td>
<td><a href="./xref/nl/inl/blacklab/search/indexstructure/IndexStructure.html#1238">1238</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpansExpansionRaw</th>
<th>Line</th></tr>
<tr class="b">
<td>cache this in Searcher..?</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpansExpansionRaw.html#90">90</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.lucene.SpansFilterNGramsRaw</th>
<th>Line</th></tr>
<tr class="b">
<td>cache this in Searcher..?</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpansFilterNGramsRaw.html#88">88</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.tools.QueryTool</th>
<th>Line</th></tr>
<tr class="b">
<td>Auto-generated catch block</td>
<td><a href="./xref/nl/inl/blacklab/tools/QueryTool.html#479">479</a></td></tr>
<tr class="a">
<th>nl.inl.util.TarGzipReader</th>
<th>Line</th></tr>
<tr class="b">
<td>make filename handling uniform across all archives types?</td>
<td><a href="./xref/nl/inl/util/TarGzipReader.html#63">63</a></td></tr></table></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2018
                        <a href="http://www.inl.nl">Instituut voor Nederlandse Taal (INT)</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
