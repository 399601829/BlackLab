<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-08-27 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150827" />
    <meta http-equiv="Content-Language" content="en" />
    <title>BlackLab &#x2013; Tag List report</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Nunito:300"/>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                                                                                                <img src="images/logo-blacklab.png"  alt="BlackLab"/>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.inl.nl/" id="bannerRight">
                                                                                                <img src="images/logo-inl.png"  alt="INL"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.inl.nl/" class="externalLink" title="INL">
        INL</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="BlackLab">
        BlackLab</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Tag List report</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2015-08-27</li>
              <li id="projectVersion" class="pull-right">
                    Version: 1.2-SNAPSHOT
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">BlackLab</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                                                                                                                                                      
      <li>
  
                          <a href="learn.html" title="Learn">
          <span class="icon-chevron-down"></span>
        Learn</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="getting-started.html" title="Getting Started">
          <span class="none"></span>
        Getting Started</a>
            </li>
                    
      <li>
  
                          <a href="corpus-query-language.html" title="Corpus Query Language">
          <span class="none"></span>
        Corpus Query Language</a>
            </li>
                    
      <li>
  
                          <a href="example-application.html" title="The Example Application">
          <span class="none"></span>
        The Example Application</a>
            </li>
                    
      <li>
  
                          <a href="add-input-format.html" title="Add An Input Format">
          <span class="none"></span>
        Add An Input Format</a>
            </li>
                    
      <li>
  
                          <a href="improve-search-speed.html" title="Improve Search Speed">
          <span class="none"></span>
        Improve Search Speed</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="API reference">
          <span class="none"></span>
        API reference</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Downloads">
          <span class="none"></span>
        Downloads</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="Frequently Asked Questions">
          <span class="none"></span>
        Frequently Asked Questions</a>
            </li>
                
      <li>
  
                          <a href="changelog.html" title="Change Log">
          <span class="none"></span>
        Change Log</a>
            </li>
                
      <li>
  
                          <a href="roadmap.html" title="Road Map">
          <span class="none"></span>
        Road Map</a>
            </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-down"></span>
        Project Reports</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="surefire-report.html" title="Surefire Report">
          <span class="none"></span>
        Surefire Report</a>
            </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="JavaDocs">
          <span class="none"></span>
        JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <span class="none"></span>
        Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="xref-test/index.html" title="Test Source Xref">
          <span class="none"></span>
        Test Source Xref</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Tag List</a>
          </li>
                    
      <li>
  
                          <a href="dependency-updates-report.html" title="Dependency Updates Report">
          <span class="none"></span>
        Dependency Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="plugin-updates-report.html" title="Plugin Updates Report">
          <span class="none"></span>
        Plugin Updates Report</a>
            </li>
              </ul>
        </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Tag_List_Report"></a>Tag List Report</h2>
<p>The following document contains the listing of user tags found in the code. Below is the summary of the occurrences per tag.</p>
<table border="0" class="table table-striped">
<tr class="a">
<th>Tag Class</th>
<th>Total number of occurrences</th>
<th>Tag strings used by tag class</th></tr>
<tr class="b">
<td><a href="#tag_class_1">Bug or serious issue</a></td>
<td>4</td>
<td>FIXME, hack</td></tr>
<tr class="a">
<td><a href="#tag_class_3">Possible optimization</a></td>
<td>2</td>
<td>OPT</td></tr>
<tr class="b">
<td><a href="#tag_class_2">Todo Work</a></td>
<td>26</td>
<td>todo, TO DO</td></tr></table>
<p>Each tag is detailed below:</p>
<div class="section">
<h3><a name="Bug_or_serious_issue"></a><a name="tag_class_1">Bug or serious issue</a></h3>
<p><b>Number of occurrences found in the code: 4</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.indexers.DocIndexerOpenSonar</th>
<th>Line</th></tr>
<tr class="b">
<td>HACK: See if we need to substitute token-ending characters</td>
<td><a href="./xref/nl/inl/blacklab/indexers/DocIndexerOpenSonar.html#231">231</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.perdocument.DocResults</th>
<th>Line</th></tr>
<tr class="b">
<td>a better approach is to only read documents we're actually interested in instead of all of them; compare with Hits. even better: make DocResults abstract and provide two implementations, DocResultsFromHits and DocResultsFromQuery. IndexSearcher indexSearcher = searcher.getIndexSearcher(); IndexReader reader = indexSearcher.getIndexReader(); Weight weight = indexSearcher.createNormalizedWeight(query); Map&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;(); for (AtomicReaderContext arc: reader.leaves()) { Scorer scorer = weight.scorer(arc, true, false, arc.reader().getLiveDocs()); while (scorer.nextDoc() != DocIdSetIterator.NO_MORE_DOCS) { //ddd } }</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocResults.html#193">193</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.Searcher</th>
<th>Line</th></tr>
<tr class="b">
<td>use fieldName</td>
<td><a href="./xref/nl/inl/blacklab/search/Searcher.html#1010">1010</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.sequences.TextPatternSequence</th>
<th>Line</th></tr>
<tr class="b">
<td>what if this matches the empty sequence? e.g. &quot;the&quot; &quot;quick&quot;? should match both &quot;the quick&quot; and &quot;the&quot;, but right now, just matches &quot;the quick&quot;. To fix this, we should check that if the &quot;tail&quot; end can match the empty sequence, not just the &quot;head&quot;.</td>
<td><a href="./xref/nl/inl/blacklab/search/sequences/TextPatternSequence.html#144">144</a></td></tr></table></div>
<div class="section">
<h3><a name="Possible_optimization"></a><a name="tag_class_3">Possible optimization</a></h3>
<p><b>Number of occurrences found in the code: 2</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.externalstorage.ContentStoreDirUtf8</th>
<th>Line</th></tr>
<tr class="b">
<td>we could try memory-mapping the current content store file (not sure if you can grow a file in size while memory-mapped? maybe just put it at a fixed size?) for additional speed.</td>
<td><a href="./xref/nl/inl/blacklab/externalstorage/ContentStoreDirUtf8.html#486">486</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.HitsWindow</th>
<th>Line</th></tr>
<tr class="b">
<td>copy context as well..?</td>
<td><a href="./xref/nl/inl/blacklab/search/HitsWindow.html#83">83</a></td></tr></table></div>
<div class="section">
<h3><a name="Todo_Work"></a><a name="tag_class_2">Todo Work</a></h3>
<p><b>Number of occurrences found in the code: 26</b></p>
<table border="0" class="table table-striped">
<tr class="a">
<th>nl.inl.blacklab.index.Indexer</th>
<th>Line</th></tr>
<tr class="b">
<td>InputStream version of zip, for zips inside another archive</td>
<td><a href="./xref/nl/inl/blacklab/index/Indexer.html#661">661</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.DocIndexerTeiBase</th>
<th>Line</th></tr>
<tr class="b">
<td>remove INL-specific stuff</td>
<td><a href="./xref/nl/inl/blacklab/indexers/DocIndexerTeiBase.html#145">145</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.indexers.MetadataFetcherKbDpo</th>
<th>Line</th></tr>
<tr class="b">
<td>improve structure to avoid test-specific code</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherKbDpo.html#320">320</a></td></tr>
<tr class="a">
<td>improve error reporting</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherKbDpo.html#357">357</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.indexers.MetadataFetcherSonarCmdi</th>
<th>Line</th></tr>
<tr class="a">
<td>improve structure to avoid test-specific code</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherSonarCmdi.html#45">45</a></td></tr>
<tr class="b">
<td>make sure zip file is properly closed when done (change structure so metadata fetcher isn't instantiated for each document separately) metadataZipFile.close();</td>
<td><a href="./xref/nl/inl/blacklab/indexers/MetadataFetcherSonarCmdi.html#89">89</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.perdocument.DocPropertyComplexFieldLength</th>
<th>Line</th></tr>
<tr class="b">
<td>check IndexStructure.alwaysHasClosingToken() to see if we really should subtract 1</td>
<td><a href="./xref/nl/inl/blacklab/perdocument/DocPropertyComplexFieldLength.html#44">44</a></td></tr>
<tr class="a">
<th>nl.inl.blacklab.queryParser.lucene // BL: changed package.QueryParserBase</th>
<th>Line</th></tr>
<tr class="b">
<td>Should this be protected instead?</td>
<td>848</td></tr>
<tr class="a">
<th>nl.inl.blacklab.search.Hits</th>
<th>Line</th></tr>
<tr class="b">
<td>get collocations for multiple contexts?</td>
<td><a href="./xref/nl/inl/blacklab/search/Hits.html#1652">1652</a></td></tr>
<tr class="a">
<td>more efficient to get all contexts with one getContextWords() call!</td>
<td><a href="./xref/nl/inl/blacklab/search/Hits.html#1903">1903</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.Searcher</th>
<th>Line</th></tr>
<tr class="a">
<td>check with index structure?</td>
<td><a href="./xref/nl/inl/blacklab/search/Searcher.html#1237">1237</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.TermFrequencyList</th>
<th>Line</th></tr>
<tr class="a">
<td>maybe speed this up by keeping a map of tokens and frequencies?</td>
<td><a href="./xref/nl/inl/blacklab/search/TermFrequencyList.html#54">54</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.TextPatternBoolean</th>
<th>Line</th></tr>
<tr class="a">
<td>implement rewrite!</td>
<td><a href="./xref/nl/inl/blacklab/search/TextPatternBoolean.html#113">113</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.TextPatternRegex</th>
<th>Line</th></tr>
<tr class="a">
<td>kind of ugly to use string markers like this.. a better way is to walk through the string, detecting stuff as we go. When we detect anything that doesn't fit in a wildcard query, we know we have to use regex. Otherwise, we do the required replacements and create a wildcard query.</td>
<td><a href="./xref/nl/inl/blacklab/search/TextPatternRegex.html#91">91</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.indexstructure.IndexStructure</th>
<th>Line</th></tr>
<tr class="a">
<td>useAnnotation..?</td>
<td><a href="./xref/nl/inl/blacklab/search/indexstructure/IndexStructure.html#357">357</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.lucene.BLSpanMultiTermQueryWrapper</th>
<th>Line</th></tr>
<tr class="a">
<td>would be nice to not lose term-state here. we could add a hack option to BLSpanOrQuery, but the hack would only work if this is the top-level Span (if you put this thing in another span query, it would extractTerms/double-seek anyway)</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/BLSpanMultiTermQueryWrapper.html#178">178</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.lucene.BLSpanTermQuery</th>
<th>Line</th></tr>
<tr class="a">
<td>investigate FieldMaskingSpanQuery, which seems to have the same purpose. However, we need all our SpanQuery and Spans classes to be BL-derived because we need to have BL-specific methods available on them (i.e. for token tagging).</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/BLSpanTermQuery.html#44">44</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.lucene.SpansTags</th>
<th>Line</th></tr>
<tr class="a">
<td>what happens if two of the same starttags occur at the same position..? Right now, we assume this doesn't happen, and it usually doesn't, but if it does, can it cause a mismatched tag problem?</td>
<td><a href="./xref/nl/inl/blacklab/search/lucene/SpansTags.html#264">264</a></td></tr>
<tr class="b">
<th>nl.inl.blacklab.search.sequences.SpansExpansionRaw</th>
<th>Line</th></tr>
<tr class="a">
<td>cache this in Searcher..?</td>
<td><a href="./xref/nl/inl/blacklab/search/sequences/SpansExpansionRaw.html#93">93</a></td></tr>
<tr class="b">
<th>nl.inl.util.DateUtil</th>
<th>Line</th></tr>
<tr class="a">
<td>this should be done with date formatting and locales!</td>
<td><a href="./xref/nl/inl/util/DateUtil.html#281">281</a></td></tr>
<tr class="b">
<th>nl.inl.util.FileUtil</th>
<th>Line</th></tr>
<tr class="a">
<td>add writeLines()</td>
<td><a href="./xref/nl/inl/util/FileUtil.html#173">173</a></td></tr>
<tr class="b">
<th>nl.inl.util.PropertiesUtil</th>
<th>Line</th></tr>
<tr class="a">
<td>FileNotFoundException?</td>
<td><a href="./xref/nl/inl/util/PropertiesUtil.html#83">83</a></td></tr>
<tr class="b">
<th>nl.inl.util.StringUtil</th>
<th>Line</th></tr>
<tr class="a">
<td>eliminate Latin char assumption; define static Pattern</td>
<td><a href="./xref/nl/inl/util/StringUtil.html#160">160</a></td></tr>
<tr class="b">
<td>define static Patterns for these</td>
<td><a href="./xref/nl/inl/util/StringUtil.html#509">509</a></td></tr>
<tr class="a">
<th>nl.inl.util.Timer</th>
<th>Line</th></tr>
<tr class="b">
<td>why only elapsed time? Generalise to describe any supplied interval.</td>
<td><a href="./xref/nl/inl/util/Timer.html#51">51</a></td></tr>
<tr class="a">
<th>nl.inl.util.Utilities</th>
<th>Line</th></tr>
<tr class="b">
<td>move to InlJavaLib (deprecate/remove here)</td>
<td><a href="./xref/nl/inl/util/Utilities.html#34">34</a></td></tr></table></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2015
                        <a href="http://www.inl.nl">INL</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
